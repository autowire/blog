$(document).ready(function(){if($("#menu-toggle").on("click",function(a){$(".g-nav").slideToggle(200),$(document).one("click",function(){$(".g-nav").slideUp(200)}),a.stopPropagation()}),$(".g-nav").on("click",function(a){a.stopPropagation()}),$(".markdown-body img").each(function(){var a='<a href="'+$(this).attr("src")+'" data-lightbox="image-1" data-title="'+$(this).attr("title")+'"></a>';$(this).wrapAll(a)}),$(".markdown-body img").length>0&&lightbox.option({resizeDuration:200,wrapAround:!0}),$(window).width()>695){var a=$(".g-header"),e=a.outerHeight(),t=$(".g-logo"),n=($(".g-nav a"),$(".g-banner").attr("data-theme")),o=$(document).scrollTop();$(document).scroll(function(){var r=$(this).scrollTop();r>e?(r>3*e&&a.addClass("headerUp"),a.css({"background-color":"rgba(45, 50, 58, 0.8)","box-shadow":"0 1px 12px rgba(0, 0, 0, .08)"}),t.css({background:"url(/assets/icons/logo_"+n+".svg) no-repeat center","background-size":"100% 100%"}),$(".g-nav").addClass("nav-"+n)):(a.removeClass("headerUp"),a.css({"background-color":"transparent","box-shadow":"none"}),t.css({background:"url(/assets/icons/logo.svg) no-repeat center","background-size":"100% 100%"}),$(".g-nav").removeClass("nav-"+n)),o>r?a.addClass("headerDown"):a.removeClass("headerDown"),o=r})}$(".read-next-item section").each(function(){var a=$(this),e=a.height(),t=$(".read-next-item").height();a.css("margin-top",(t-e)/2+"px"),a.fadeIn()}),$(".read-next-item img").each(function(){!function(a,e){a.width(),e.width();var t=a.height(),n=e.height(),o=!1;if(t<n){a.css({width:"auto",height:"100%"});var r=(a.width()-e.width())/2;a.css("margin-left","-"+r+"px"),o=!0}else{var s=(n-t)/2;a.css("margin-top",s+"px"),o=!0}o&&(a.fadeIn(),o=!1)}($(this),$(".read-next-item"))});!function(){for(var a=parseInt($("#total_pages").val()),e=parseInt($("#current_pages").val()),t=$("#base_url").val(),n="",o=e-3;o<e;o++)o>0&&1!==o?n+='<a href="'+t+"page"+o+'" class="page-link page-num">'+o+"</a>":1===o&&(n+='<a href="'+t+'" class="page-link page-num">'+o+"</a>");n+='<span class="page-link page-num active">'+e+"</span>";for(var r=e+1;r<=e+3;r++)r<=a&&(n+='<a href="'+t+"page"+r+'" class="page-link page-num">'+r+"</a>");$("#page-link-container").html(n)}();function r(){var a=$("#search_input"),e=$(".search_result");a.focus(function(){$(".icon-search").css("color","#3199DB"),e.show()}),a.keyup(function(a,e){var t;return e=e||120,function(){var n=this,o=arguments;clearTimeout(t),t=setTimeout(function(){a.apply(n,o)},e)}}(this.autoComplete)),$(document).click(function(a){"search_input"!==a.target.id&&"search_result"!==a.target.className&&"search_item"!==a.target.className&&($(".icon-search").css("color","#CAD3DC"),e.hide())})}r.prototype.autoComplete=function(){var a=this.value.toLowerCase();a.length?$(".icon-search").css("color","#3199DB"):$(".icon-search").css("color","#CAD3DC"),$.getJSON("../../search.json").done(function(e){var t="";for(var n in e){var o=e[n],r=o.title,s=o.tags;o.url;""!==a&&(r+s).toLowerCase().indexOf(a)>=0&&(t+='<a class="search_item" href="'+o.url+'">'+o.title+"</a>")}$(".search_result").html(t)})};new r;"true"===$("#nm-switch").val()&&function(){var a=$("body"),e=(new Date).getHours();(e>=0&&e<=6||23===e)&&a.addClass("night-mode")}();$(".post-content").on("mouseup",function(a){var e=window.getSelection();e.toString().length>=30&&(t=e,t+="\n\n著作权归作者所有。\n商业转载请联系作者获得授权,非商业转载请注明出处。\n原文: "+location.href,$(".post-content").on("copy",function(a){(window.clipboardData||a.originalEvent.clipboardData).setData("text/plain",t),a.preventDefault()}));var t})});